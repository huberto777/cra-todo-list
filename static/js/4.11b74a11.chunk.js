(this["webpackJsonpnew-tasks"]=this["webpackJsonpnew-tasks"]||[]).push([[4],{30:function(n,e,t){n.exports=t.p+"static/media/pen.84b70f8a.svg"},38:function(n,e,t){n.exports=t.p+"static/media/rubbish-bin.5866c2c6.svg"},39:function(n,e,t){n.exports=t.p+"static/media/magnifier.a14461b8.svg"},40:function(n,e,t){n.exports=t.p+"static/media/iks.e9cecb62.svg"},50:function(n,e,t){"use strict";t.r(e);var r=t(48),a=t(7),c=t(8),u=t(9),i=t(10),o=t(5),d=t(0),l=t.n(d),s=t(34),f=t(35),m=t.n(f),h=t(37),b=t(51);function p(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(e){setTimeout(e,n)}))}var v=[{id:1,name:"zainstalowa\u0107 linuxa",active:!1},{id:2,name:"zrobi\u0107 spa w react",active:!1},{id:3,name:"nauka reduxa",active:!1},{id:4,name:"nauka js es6",active:!1}];function k(n){var e=v.findIndex((function(e){return e.id===n}));if(e<0)throw new Error("Task o podanym id nie istnieje");return e}var g={getAllTasks:function(){return Object(h.a)(m.a.mark((function n(){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p();case 2:return n.abrupt("return",[].concat(v));case 3:case"end":return n.stop()}}),n)})))()},addTask:function(n){return Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(1e3);case 2:return t=Object(s.a)({},n,{id:Object(b.a)()}),v.push(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()},removeTask:function(n){return Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.id){e.next=2;break}throw new Error("Cannot remove task without an id");case 2:t=k(n.id),v.splice(t,1);case 4:case"end":return e.stop()}}),e)})))()},replaceTask:function(n){return Object(h.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(1e3);case 2:if(n.id){e.next=4;break}throw new Error("cannot replace task without an id");case 4:return t=k(n.id),r=Object(s.a)({},n),v[t]=r,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))()}},j=t(1);function x(){var n=Object(o.a)(["\n  font-size: ",";\n  font-weight: ",";\n"]);return x=function(){return n},n}var E=j.d.h2(x(),(function(n){var e=n.theme;return n.big?e.fontSize.xl:e.fontSize.l}),(function(n){return n.theme.bold}));function O(){var n=Object(o.a)(["\n        background-color: hsl(0, 6%, 68%);\n      "]);return O=function(){return n},n}function w(){var n=Object(o.a)(["\n      background-color: hsl(122, 100%, 58%);\n    "]);return w=function(){return n},n}function T(){var n=Object(o.a)(["\n      background-color: hsl(233, 100%, 50%);\n    "]);return T=function(){return n},n}function y(){var n=Object(o.a)(["\n      background-color: hsl(0, 100%, 50%);\n    "]);return y=function(){return n},n}function C(){var n=Object(o.a)(["\n  width: 30px;\n  height: 30px;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  background-size: 50% 50%;\n  border: none;\n  background-color: ",";\n  border-radius: 10px;\n\n  ","\n  ","\n  ","\n    ","\n"]);return C=function(){return n},n}var S=j.d.button(C(),(function(n){return n.icon}),(function(n){return n.theme.add}),(function(n){return n.del&&Object(j.c)(y())}),(function(n){return n.edit&&Object(j.c)(T())}),(function(n){return n.update&&Object(j.c)(w())}),(function(n){return n.cancel&&Object(j.c)(O())})),z=t(30),M=t.n(z),F=t(38),A=t.n(F),D=t(39),U=t.n(D);function L(){var n=Object(o.a)(["\n      background-image: url(",");\n      background-position: 10px 50%;\n      background-repeat: no-repeat;\n    "]);return L=function(){return n},n}function P(){var n=Object(o.a)(["\n  padding: 5px 10px 5px 30px;\n  font-size: ",";\n  font-weight: ",";\n  background-color: ",";\n  border-radius: 50px;\n  border: none;\n  color: ",";\n  margin-bottom: 10px;\n  width: 40%;\n\n  ::placeholder {\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    color: ",";\n    padding-left: 5px;\n  }\n\n  "," /* input nie posiada atrybutu BEFORE, poniewa\u017c nie posiada \u017cadnej zawarto\u015bci */\n"]);return P=function(){return n},n}var R=j.d.input(P(),(function(n){return n.theme.fontSize.s}),(function(n){return n.theme.regular}),(function(n){return n.theme.grey400}),(function(n){return n.theme.grey200}),(function(n){return n.theme.grey200}),(function(n){return n.search&&Object(j.c)(L(),U.a)})),q=t(40),I=t.n(q),J=t(33);function N(){var n=Object(o.a)(["\n  font-size: ",";\n  font-weight: ",";\n"]);return N=function(){return n},n}var V=j.d.p(N(),(function(n){return n.theme.fontSize.s}),(function(n){return n.theme.regular}));function B(){var n=Object(o.a)(["\n  padding: 0 0 0 10px;\n  margin: 0;\n  width: 100%;\n  font-size: ",";\n"]);return B=function(){return n},n}function X(){var n=Object(o.a)(["\n  padding-right: 5px;\n  padding-left: 5px;\n"]);return X=function(){return n},n}function G(){var n=Object(o.a)(["\n  font-size: ",";\n  font-weight: ",";\n  color: ",";\n  margin: 0;\n"]);return G=function(){return n},n}function H(){var n=Object(o.a)(["\n  cursor: pointer;\n  margin: 0 auto;\n  display: block;\n"]);return H=function(){return n},n}var K=Object(j.d)(S)(H()),Q=Object(j.d)(V)(G(),(function(n){return n.theme.fontSize.s}),(function(n){return n.theme.bold}),(function(n){return n.theme.del})),W=j.d.td(X()),Y=Object(j.d)(R)(B(),(function(n){return n.theme.fontSize.s})),Z=function(n){var e={};return n.name?n.name.length>50?e.name="Must be 50 characters or less":n.name.length<3&&(e.name="Must have min. 3 characters"):e.name="Required",e},$=function(n){var e=n.task,t=n.onUpdate,r=n.onCancel,a=n.index,c=Object(J.a)({initialValues:{name:e.name},validate:Z,onSubmit:function(n){var r=n.name;t(Object(s.a)({},e,{name:r}))}}),u={width:"15px"};return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,null,a+1),l.a.createElement(W,null,l.a.createElement(Y,{type:"text",name:"name",value:c.values.name,onChange:c.handleChange})," ",c.errors.name?l.a.createElement(Q,null,c.errors.name):null),l.a.createElement(W,{style:u},l.a.createElement(K,{type:"submit",onClick:c.handleSubmit,icon:M.a,add:!0})),l.a.createElement(W,{style:u},l.a.createElement(K,{type:"submit",onClick:r,icon:I.a,cancel:!0})))};function _(){var n=Object(o.a)(["\n  cursor: pointer;\n  margin: 0 auto;\n  display: block;\n"]);return _=function(){return n},n}function nn(){var n=Object(o.a)(["\n  padding-right: 5px;\n  padding-left: 5px;\n"]);return nn=function(){return n},n}function en(){var n=Object(o.a)(["\n  height: 35px;\n  background-color: ",";\n"]);return en=function(){return n},n}var tn=j.d.tr(en(),(function(n){return n.theme.update})),rn=j.d.td(nn()),an=Object(j.d)(S)(_()),cn=function(n){var e=n.index,t=n.task,r=n.currentEditTask,a=n.editMode,c=n.onDelete,u=n.onEdit,i=n.onActive,o=n.onUpdate,d=n.onCancel,s=t.id,f=t.name,m=t.active,h={},b={width:"15px"};return m&&(h.backgroundColor="yellow",h.textDecoration="line-through",h.color="red"),l.a.createElement(l.a.Fragment,null,r===s?l.a.createElement(tn,null,l.a.createElement($,{onCancel:d,task:t,onUpdate:o,index:e})):l.a.createElement(tn,{style:h,className:"".concat(a?"inactive":"")},l.a.createElement(rn,{style:b},e+1,"."),l.a.createElement(rn,null,l.a.createElement("input",{type:"checkbox",defaultChecked:m,onChange:i,disabled:a}),f),l.a.createElement(rn,{style:b},l.a.createElement(an,{onClick:u,icon:M.a,disabled:a,edit:!0})),l.a.createElement(rn,{style:b},l.a.createElement(an,{onClick:c,icon:A.a,disabled:a,del:!0}))))};function un(){var n=Object(o.a)(["\n      background-color: hsl(0, 6%, 28%);\n    "]);return un=function(){return n},n}function on(){var n=Object(o.a)(["\n      background-color: hsl(122, 100%, 58%);\n    "]);return on=function(){return n},n}function dn(){var n=Object(o.a)(["\n      background-color: hsl(233, 100%, 50%);\n    "]);return dn=function(){return n},n}function ln(){var n=Object(o.a)(["\n      background-color: hsl(0, 100%, 50%);\n    "]);return ln=function(){return n},n}function sn(){var n=Object(o.a)(["\n  background-color: ","; /* props.theme -> CONTEXT API ThemeProvider */\n  width: 20%;\n  font-size: ",";\n  border: none;\n  border-radius: 50px;\n  font-family: 'Montserrat';\n  font-weight: ",";\n  text-transform: uppercase;\n  color: white;\n  padding: 5px 10px 5px 10px;\n\n  ","\n  ","\n  ","\n  ","\n"]);return sn=function(){return n},n}var fn=j.d.button(sn(),(function(n){return n.theme.add}),(function(n){return n.theme.fontSize.s}),(function(n){return n.theme.regular}),(function(n){return n.del&&Object(j.c)(ln())}),(function(n){return n.edit&&Object(j.c)(dn())}),(function(n){return n.update&&Object(j.c)(on())}),(function(n){return n.cancel&&Object(j.c)(un())})),mn=function(n){var e=n.onChange;return l.a.createElement(l.a.Fragment,null,l.a.createElement(R,{placeholder:"search",search:!0,onChange:e}))};function hn(){var n=Object(o.a)(["\n  font-size: ",";\n  font-weight: ",";\n  color: ",";\n  margin: 0;\n"]);return hn=function(){return n},n}var bn=Object(j.d)(V)(hn(),(function(n){return n.theme.fontSize.s}),(function(n){return n.theme.bold}),(function(n){return n.theme.del})),pn=function(n){var e={};return n.name?n.name.length<3?e.name="Must have min. 3 characters":n.name.length>50&&(e.name="Must have max. 50 characters"):e.name="Required",e},vn=function(n){var e=n.addTask,t=n.onChange,r=Object(J.a)({initialValues:{name:""},validate:pn,onSubmit:function(n,t){var r=t.resetForm;e(n),r()}});return l.a.createElement("form",{onSubmit:r.handleSubmit},l.a.createElement(R,{id:"name",name:"name",type:"text",onChange:r.handleChange,value:r.values.name,placeholder:"add task"}),l.a.createElement(fn,{type:"submit"},"Submit"),l.a.createElement(mn,{onChange:t}),r.errors.name?l.a.createElement(bn,null,r.errors.name):null)};function kn(){var n=Object(o.a)(["\n  text-align: center;\n"]);return kn=function(){return n},n}function gn(){var n=Object(o.a)(["\n  padding-right: 5px;\n  padding-left: 5px;\n"]);return gn=function(){return n},n}function jn(){var n=Object(o.a)(["\n  height: 35px;\n  background-color: ",";\n"]);return jn=function(){return n},n}function xn(){var n=Object(o.a)(["\n  width: 80%;\n  margin: 0 auto;\n"]);return xn=function(){return n},n}function En(){var n=Object(o.a)(["\n  width: 80%;\n  margin: 0 auto;\n"]);return En=function(){return n},n}var On=j.d.table(En()),wn=j.d.div(xn()),Tn=j.d.tr(jn(),(function(n){return n.theme.add})),yn=j.d.th(gn()),Cn=Object(j.d)(E)(kn()),Sn=function(n){Object(i.a)(t,n);var e=Object(u.a)(t);function t(n){var c;return Object(a.a)(this,t),(c=e.call(this,n)).addTask=function(n){g.addTask(n).then((function(n){return c.setState((function(e){return{tasks:[].concat(Object(r.a)(e.tasks),[n])}}))}))},c.removeTask=function(n){g.removeTask(n).then((function(){return c.setState((function(e){return{tasks:e.tasks.filter((function(e){return e.id!==n.id}))}}))}))},c.editTask=function(n){c.setState({task:n,editMode:!0,currentEditTask:n.id})},c.updateTask=function(n){g.replaceTask(n).then((function(n){return c.setState((function(e){return{tasks:e.tasks.map((function(e){return e.id===n.id?n:e})),editMode:!1,currentEditTask:null}}))}))},c.activeMode=function(n){var e=n.id;c.setState((function(n){return{tasks:n.tasks.map((function(n){return n.id===e&&(n.active=!n.active),n}))}}))},c.cancelEditMode=function(){c.setState({editMode:!1,currentEditTask:null})},c.searchTask=function(n){c.setState({search:n.target.value.toLowerCase()})},c.state={tasks:[{id:1,name:"zainstalowa\u0107 linuxa",active:!1},{id:2,name:"zrobi\u0107 spa w react",active:!1},{id:3,name:"nauka reduxa",active:!1},{id:4,name:"nauka js es6",active:!1}],loading:!0,error:null,editMode:!1,search:"",currentEditTask:null},c}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var n=this;g.getAllTasks().then((function(e){return n.setState({tasks:e})})).catch((function(e){return n.state({error:e})})).finally((function(){return n.setState({loading:!1})}))}},{key:"render",value:function(){var n=this,e=this.state,t=e.editMode,r=e.search,a=e.currentEditTask,c=e.loading,u=this.state.tasks.filter((function(n){return n.name.toLowerCase().includes(r)}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(Cn,{big:!0},"Task List"),!t&&l.a.createElement(wn,null,l.a.createElement(vn,{addTask:this.addTask,onChange:this.searchTask})),c?"tasks are loading...":l.a.createElement(On,null,l.a.createElement("thead",null,0!==u.length?l.a.createElement(Tn,null,l.a.createElement(yn,null,"#"),l.a.createElement(yn,null,"task"),l.a.createElement(yn,null,"edit"),l.a.createElement(yn,null,"del")):l.a.createElement(Tn,null,l.a.createElement(yn,null,"brak zada\u0144"))),l.a.createElement("tbody",null,u.map((function(e,r){return l.a.createElement(cn,{key:e.id,index:r,task:e,currentEditTask:a,editMode:t,onDelete:function(){return n.removeTask(e)},onEdit:function(){return n.editTask(e)},onActive:function(){return n.activeMode(e)},onUpdate:n.updateTask,onCancel:n.cancelEditMode})})))))}}]),t}(d.Component);e.default=Sn}}]);
//# sourceMappingURL=4.11b74a11.chunk.js.map